(function(t){function e(e){for(var r,s,i=e[0],l=e[1],d=e[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(p.length)p.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},o=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00f8":function(t,e,a){"use strict";a("063a")},"010e":function(t,e,a){},"0455":function(t,e,a){},"045b":function(t,e,a){},"0576":function(t,e,a){"use strict";a("0455")},"063a":function(t,e,a){},"0941":function(t,e,a){"use strict";a("b4a7")},1629:function(t,e,a){},"17b5":function(t,e,a){},"1bce":function(t,e,a){"use strict";a("fbf2")},"44f7":function(t,e,a){t.exports=a.p+"img/smart-flow.88f9e1d0.png"},5351:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"wrap-container"},[e("div",{staticClass:"header"},[e("img",{staticClass:"image-size-logo",attrs:{src:t.logo,alt:"Logo"}}),e("div",{staticClass:"filter-items"},[e("b-form-select",{staticClass:"w-50 p-3",attrs:{options:t.productOptions},on:{change:t.filterByProduct},scopedSlots:t._u([{key:"first",fn:function(){return[e("option",{attrs:{value:"",disabled:""}},[t._v("Select Product to filter")])]},proxy:!0}]),model:{value:t.selectedProduct,callback:function(e){t.selectedProduct=e},expression:"selectedProduct"}})],1),e("div",{staticClass:"profile"},[e("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"Settings"}},[t.checkToken?t._e():e("b-dropdown-item",{on:{click:function(e){return t.$bvModal.show("login-modal")}}},[t._v("Login")]),t.checkToken?e("b-dropdown-item",{on:{click:t.logout}},[t._v("Logout")]):t._e(),t.checkToken?e("b-dropdown-item",{on:{click:function(e){return t.$bvModal.show("product-modal")}}},[t._v("Products")]):t._e(),t.checkToken?e("b-dropdown-item",{on:{click:function(e){return t.$bvModal.show("tank-modal")}}},[t._v("Tanks")]):t._e(),t.checkToken?e("b-dropdown-item",{on:{click:function(e){return t.$bvModal.show("tcv-chart")}}},[t._v("Upload TCV chart")]):t._e()],1)],1)]),e("div",{staticClass:"main-body"},[t.tankData.length>0?e("home",{attrs:{"tank-data":t.filterTankData}}):e("div",[e("img",{staticClass:"image-size-spinner",attrs:{src:t.spinner,alt:"Loader"}})])],1),e("div",{staticClass:"footer"},[e("i",{staticClass:"fa fa-bolt fa-lg",staticStyle:{color:"red"}}),e("img",{staticClass:"image-size-footer",attrs:{src:t.footerLogo,alt:"Footer logo"}})]),e("div",{staticClass:"login-modal-wrap"},[e("b-modal",{attrs:{id:"login-modal",size:"lg",centered:"","hide-footer":"",title:"Login"}},[e("LoginUser")],1),e("b-modal",{attrs:{id:"product-modal",size:"lg",centered:"","hide-footer":"",title:"Product"}},[e("ProductList")],1),e("b-modal",{attrs:{id:"tank-modal",size:"lg",centered:"","hide-footer":"",title:"Tank"}},[e("TankList")],1),e("b-modal",{ref:"tcv-chart",attrs:{id:"tcv-chart",size:"md",centered:"","hide-footer":"",title:"Upload TCV chart"}},[e("UploadTcvChart")],1)],1)])])},o=[],s=a("cee4"),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-wrap"},[e("div",{staticClass:"card-container"},t._l(t.tankData,(function(a,r){return e("tank-card",{key:r,attrs:{tankData:a},nativeOn:{click:function(e){return t.showModal(a)}}})})),1),e("div",{class:t.computeOverlay,on:{click:t.closeModalOnOverlay}},[t.modalContent?e("TankCardModal",{attrs:{modalContent:t.modalContent},on:{closeModal:t.closeModal}}):t._e()],1)])},l=[],d=function(){var t,e,a,r,n,o,s,i,l,d,c,u,p,m=this,h=m._self._c;return h("div",{staticClass:"fuel-card"},[h("div",{staticClass:"circle-container"},[h("TankLevelImage",{attrs:{volume:null===(t=m.tankData)||void 0===t?void 0:t.vol,capacity:null===(e=m.tankData)||void 0===e?void 0:e.capacity,percent:m.fillPercentage}})],1),h("div",{staticClass:"fuel-info"},[h("div",{staticClass:"fuel-info-item"},[h("p",[m._v("Tank Name: ")]),h("p",[m._v(m._s(null===(a=m.tankData)||void 0===a?void 0:a.tank_name))])]),h("div",{staticClass:"fuel-info-item"},[h("p",[m._v("Capacity: ")]),h("p",[m._v(m._s(m.formattedNumber(null===(r=m.tankData)||void 0===r?void 0:r.capacity))+" L")])]),h("div",{staticClass:"fuel-info-item"},[h("p",[m._v("Volume: ")]),h("p",[m._v(m._s(m.formattedNumber(null===(n=m.tankData)||void 0===n?void 0:n.vol))+" L")])]),h("div",{staticClass:"fuel-info-item"},[h("p",[m._v("TCV: ")]),h("p",[m._v(m._s(m.formattedNumber(null===(o=m.tankData)||void 0===o?void 0:o.tcv))+" L")])]),h("div",{staticClass:"fuel-info-item"},[h("p",[m._v("Height: ")]),h("p",[m._v(m._s(m.formattedNumber(null===(s=m.tankData)||void 0===s?void 0:s.height))+" mm")])]),h("div",{staticClass:"fuel-info-item"},[h("p",[m._v("Product: ")]),h("p",[m._v(m._s(null===(i=m.tankData)||void 0===i?void 0:i.product))])]),h("div",{staticClass:"fuel-info-item-last"},[h("p",[m._v("Av. Temp: ")]),h("p",[m._v(m._s(null===(l=m.tankData)||void 0===l?void 0:l.avg_temp)+" ℃")])]),h("div",{staticClass:"fuel-info-item"},[h("p",[m._v("Temperature Status: ")]),h("p",{class:m.getHourDifference(null===(d=m.tankData)||void 0===d?void 0:d.date_time)},[m._v(m._s(m.getHourDifference(null===(c=m.tankData)||void 0===c?void 0:c.date_time)))])]),h("div",{staticClass:"fuel-info-item fuel-info-item-last"},[h("p",[m._v("ATG Status: ")]),h("p",{class:m.getHourDifference(null===(u=m.tankData)||void 0===u?void 0:u.atg_time)},[m._v(m._s(m.getHourDifference(null===(p=m.tankData)||void 0===p?void 0:p.atg_time)))])])])])},c=[],u=function(){var t=this,e=t._self._c;return e("div",{class:t.randomClass,attrs:{id:"banner"}},[e("div",{staticClass:"fill"},[e("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"300px",height:"300px",viewBox:"0 0 300 300","enable-background":"new 0 0 300 300","xml:space":"preserve"}},[e("path",{attrs:{fill:"#04ACFF",id:"waveShape",d:"M300,300V2.5c0,0-0.6-0.1-1.1-0.1c0,0-25.5-2.3-40.5-2.4c-15,0-40.6,2.4-40.6,2.4\n            c-12.3,1.1-30.3,1.8-31.9,1.9c-2-0.1-19.7-0.8-32-1.9c0,0-25.8-2.3-40.8-2.4c-15,0-40.8,2.4-40.8,2.4c-12.3,1.1-30.4,1.8-32,1.9\n            c-2-0.1-20-0.8-32.2-1.9c0,0-3.1-0.3-8.1-0.7V300H300z"}})])]),e("span",{staticClass:"custom-center-style form-inline text-center font-weight-bolder"},[t._v(t._s(t.percent)+"%")])])},p=[];class m{static isObjectLike(t){return"object"===typeof t&&null!==t}static inArray(t,e){if(null==t||!m.isArrayLike(t))throw"{arr} is not an Array";return-1!==t.indexOf(e)}static generateCSV(t,e){let a="",r=[],n=[];var o="";return t.forEach((function(t){r.push(t.key)})),a=r.join(",")+"\n",e.forEach((function(t){let e=[];r.forEach((function(a){e.push('"'+t[a]+'"')})),n.push(e)})),n.forEach((function(t){a+=t.join(","),a+="\n"})),o="data:text/csv;charset=utf-8,"+encodeURI(a),o}static TurnObjectToArray(t){var e=[];return Object.keys(t).forEach(a=>{let r=t[a];e=[...e,...r]}),e}static givemedate(t){var e;e=t?new Date(t):new Date;let a=e.getDate(),r=e.getMonth()+1,n=e.getFullYear(),o=e.getHours(),s=e.getMinutes(),i=e.getSeconds();return n+"-"+r+"-"+a+" "+o+":"+s+":"+i}static getStationIDS(t){var e=[];return t.forEach((function(t){e.push(t.Site_id)})),e}static getCompanyIDS(t){let e=[];return t.forEach((function(t){e.push(t.Company)})),e}static getTankgroupIDS(t){var e=[];return t.forEach((function(t){e.push(t.Group_id)})),e}static RoundUp(t,e){var a=!1;void 0===e&&(e=0),t<0&&(a=!0,t*=-1);var r=Math.pow(10,e);return t=parseFloat((t*r).toFixed(11)),t=(Math.round(t)/r).toFixed(e),a&&(t=(-1*t).toFixed(e)),t}static NormalizeDigits(t){try{var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}catch(a){console.log(a)}}static SlashDate(t,e=!1){if(t){var a=new Date(t),r=a.getFullYear(),n=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,o=a.getDate()<10?"0"+a.getDate():a.getDate(),s=a.getHours()<10?"0"+a.getHours():a.getHours(),i=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes();return e?r+"-"+n+"-"+o:r+"-"+n+"-"+o+" "+s+":"+i}return""}static FullTimestamp(t){if(t){var e=new Date(t),a=e.getFullYear(),r=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate(),o=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),i=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return a+"-"+r+"-"+n+" "+o+":"+s+":"+i}return""}static GetISODate(t){var e=new Date;return t?(e.setDate(e.getDate()+t),e.toISOString()):(new Date).toISOString()}static DifferencebtwDates(t,e){var a=t.getTime(),r=e.getTime(),n=r-a;n/=1e3;var o=Math.floor(n%60);n/=60;var s=Math.floor(n%60);n/=60;var i=Math.floor(n%24),l=Math.floor(n/24);return{days:l,hours:i,seconds:o,minutes:s}}static isArrayEmpty(t){return!t||void 0===t||0==t.length}static RandomString(){var t=Math.floor(100*Math.random())+2+""+(new Date).getTime()+Math.floor(100*Math.random())+2+Math.random().toString(36).replace(/[^a-zA-Z]+/g,"").substr(0,5);return t}static onSpinner(t){if(t){var e,a=document.querySelectorAll(t);for(e=0;e<a.length;e++)a[e].classList.add("cover-roll");return!0}}static printRules(t){const e=document.getElementById("fool"),a=e.appendChild(document.createElement("pre"));a.innerHTML=JSON.stringify([...t.cssRules].map(t=>t.cssText),null,2)}static randomNumber(){let t=Math.random().toString(36).substring(8);return Date.now()+t}static randomStringsOnly(t=8){for(var e="",a="stuvwxyzRSTUABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyzRSTUVWXYZabcdefghijk",r=0;r<t;r++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}static Setcss(t,e=null,a=null){const r=t.sheet,n=e?`${e} { ${a} }`:""+a,o=r.cssRules.length;return r.insertRule(n,o),t}static addClass(t,e){var a,r;return r=t.className,a=t.className.split(" "),-1==a.indexOf(e)&&(r?t.className+=" "+e:t.className=e),t}static offSpinner(t){if(t){var e,a=document.querySelectorAll(t);for(e=0;e<a.length;e++)a[e].classList.remove("cover-roll");return!0}}static stringifyRecordValues(t){return t instanceof Object?(0,m.stringifyObjectValues)(t):""}static stringifyObjectValues(t){return"undefined"===typeof t||null===t?"":t instanceof Object&&!(t instanceof Date)?(0,Object.keys)(t).sort().filter((function(t){return void 0!==t&&null!==t})).map((function(e){return m.stringifyObjectValues(t[e])})).join(" "):String(t)}static SerachArrayofObjs(t,e,a){var r=t.find((function(t){return t[e]==a}));return r||!1}static getObjectFromArray(t,e,a){for(var r={},n=0;n<t.length;n++)if(t[n][e]==a)return t[n];return r}static RandomItemFromArray(t){for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[a],t[a]=r}return t[0]}static isPromise(t){return!!t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof t.then}static limit(t,e,a){var r;function n(){var n=this,o=arguments,s=function(){r=void 0,t.apply(n,o)};a&&window.clearTimeout(r),!a&&r||(r=window.setTimeout(s,e))}return n.clear=()=>window.clearTimeout(r),n}static throttle(t,e){return m.limit(t,e,!1)}static debounce(t,e){return m.limit(t,e,!0)}static toogleFullscreen(t){m.isElementOnFullScreen()?m.exitFullScreen(t):m.EnterFullScreen(t)}static isElementOnFullScreen(){let t=document.fullscreenElement&&null!==document.fullscreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement;return t}static isFullscreenEnabled(){let t=Document.fullscreenEnabled||Document.webkitFullscreenEnabled||Document.mozFullScreenEnabled||Document.msFullscreenEnabled;return t}static isArrayLike(t){return t.constructor==Array||t instanceof Array}static isStringLike(t){return"string"==typeof t}static pmsColor(){return"#1d8a99"}static agoColor(){return"#c5b451"}static dpkColor(){return"#360568"}static getRandomColor(){for(var t="0123456789ABCDEF",e="#",a=0;a<6;a++)e+=t[Math.floor(16*Math.random())];return e}static isEmptyObject(t){var e;for(e in t)return!1;return!0}static deepCloneWithJSON(t){return JSON.parse(JSON.stringify(t))}static ShiftFirst(t){for(let e in t)return t[e]}static DaysBetween(t,e){var a=t.getTime(),r=e.getTime(),n=r-a;n/=1e3;var o=Math.floor(n%60);n/=60;var s=Math.floor(n%60);n/=60;var i=Math.floor(n%24),l=Math.floor(n/24);return{days:l,hours:i,seconds:o,minutes:s}}static convertHourstoDuration(t){return Math.round(60*t)}static insertComma(t){if(0===t)return t;t=String(t).split(".");let e=t[0].split("").reverse().join(""),a=[];if(e.split("").forEach((t,e)=>{e+=1,e%3===0?(a.push(t),a.push(",")):a.push(t)}),a=a.reverse().join(""),t[1])return a.startsWith(",")?a.slice(1)+"."+t[1]:a+"."+t[1];if(a.startsWith(","))return a.slice(1);try{return a.reverse().join("")}catch(r){return a}}static reformatDate(t){let e=t.split(" "),a=e[0],r=a.split("-");return r[2]+"/"+r[1]+"/"+r[0]+" "+e[1]+" "+e[2]}static formatDate2(t){if("N/A"==t)return"N/A";let e=t.split("T");const a=e[1],r=new Date("1970-01-01T"+a+"Z").toLocaleTimeString("en-US",{timeZone:"UTC",hour12:!0,hour:"numeric",minute:"numeric"}),n=e[0].split("-"),o=n[2]+"/"+n[1]+"/"+n[0];return`${o} ${r} `}static convertHourNumberToTimeInterval(t){return 0==t?"12AM - 1AM":1==t?"1AM - 2AM":2==t?"2AM - 3AM":3==t?"3AM - 4AM":4==t?"4AM - 5AM":5==t?"5AM - 6AM":6==t?"6AM - 7AM":7==t?"7AM - 8AM":8==t?"8AM - 9AM":9==t?"9AM - 10AM":10==t?"10AM - 11AM":11==t?"11AM - 12PM":12==t?"12PM - 1PM":13==t?"1PM - 2PM":14==t?"2PM - 3PM":15==t?"3PM - 4PM":16==t?"4PM - 5PM":17==t?"5PM - 6PM":18==t?"6PM - 7PM":19==t?"7PM - 8PM":20==t?"8PM - 9PM":21==t?"9PM - 10PM":22==t?"10PM - 11M":23==t?"11PM - 12AM":void 0}static extractNozzlesFromPumps(t){let e=[...t.reduce((t,{nozzles:e})=>((e||[]).forEach(e=>{t.has(e.id)||t.set(e.id,{...e})}),t),new Map).values()];return e}}var h=m,f=a("1157"),v=a.n(f),g={props:{volume:{type:[String,Number],default:"0"},capacity:{type:[String,Number],default:"0"},percent:{type:[String,Number],default:0},product:{type:[String],default:""},tank_note:{default:""}},components:{},name:"tank-level-image",data(){return{tabIndex:0,injectedStyle:"",randomClass:h.randomStringsOnly()}},methods:{deleteStyle(){if(this.injectedStyle){let t=this.injectedStyle.parentNode.querySelectorAll("."+this.randomClass);t.forEach(t=>{t.parentNode.removeChild(t)})}},setCss(){let t="#c5b550";var e=document.createElement("style");e=h.addClass(e,this.randomClass),document.head.appendChild(e);let a="margin: 3px auto;\n                            height: 150px;\n                            width: 120px;\n                            position: relative;\n                            border-style: none solid solid solid;\n                            border-width: 5px;\n                            border-color: lightgray;\n                            border-radius: 10px;",r=`width: 100%;\n                            height: 3%;\n                            background-color: ${t};\n                            position: absolute;\n                            bottom: 0;`;e=h.Setcss(e,"."+this.randomClass,a),e=h.Setcss(e,`.${this.randomClass} .water`,r),this.injectedStyle=e},setCircleTankCss(t){t=100-t;let e="#c5b550";var a=document.createElement("style");a=h.addClass(a,this.randomClass),document.head.appendChild(a);let r=h.randomStringsOnly(10),n=h.randomStringsOnly(10),o=150,s=150*t/100,i="\n                        border-radius: 50%;\n                        width: 150px;\n                        height: 150px;\n                        background: #eef1d2;\n                        overflow: hidden;\n                        backface-visibility: hidden;\n                        transform: translate3d(0, 0, 0);\n                      ",l=`\n                              animation-name: ${r};\n                              animation-iteration-count: 1;\n                              animation-timing-function: cubic-bezier(.2, .6, .8, .4);\n                              animation-duration: 4s;\n                              animation-fill-mode: forwards;\n                              `,d=`\n                                    animation-name: ${n};\n                                    animation-iteration-count: infinite;\n                                    animation-timing-function: linear;\n                                    animation-duration: 2s;\n                                    width: 100%;\n                                    height: 100%;\n                                    fill: ${e};`,c=`\n                              @keyframes ${r} {\n                                0% {\n                                  transform: translate(0, ${o}px);\n                                }\n\n                                100% {\n                                  transform: translate(0, ${s}px);\n                                }\n                              }`,u=`@keyframes ${n} {\n                        0% {\n                          transform: translate(-${o}px, 0);\n                        }\n\n                        100% {\n                          transform: translate(0, 0);\n                        }\n                      }`;a=h.Setcss(a,null,c),a=h.Setcss(a,null,u),a=h.Setcss(a,"."+this.randomClass,i),a=h.Setcss(a,`.${this.randomClass} .fill`,l),a=h.Setcss(a,`.${this.randomClass} #waveShape`,d)},setFluidLevel(){let t=this.percent>100?100:this.percent;this.setCircleTankCss(t),v()(this.$refs.water).animate({height:t+"%"},1e3)}},computed:{},watch:{percent(){this.setFluidLevel()}},mounted(){this.$nextTick(()=>{this.setFluidLevel()})},beforeDestroy(){this.deleteStyle()}},b=g,k=(a("b800"),a("2877")),_=Object(k["a"])(b,u,p,!1,null,"3dd976c7",null),y=_.exports,C={props:{tankData:Object},components:{TankLevelImage:y},data(){return{liquidColor:"#c5b550"}},computed:{fillPercentage(){var t,e,a,r;return this.tankData&&void 0!==(null===(t=this.tankData)||void 0===t?void 0:t.vol)&&void 0!==(null===(e=this.tankData)||void 0===e?void 0:e.capacity)?((null===(a=this.tankData)||void 0===a?void 0:a.vol)/(null===(r=this.tankData)||void 0===r?void 0:r.capacity)*100).toFixed():0}},methods:{getHourDifference(t){const e=new Date,a=new Date(e).getTime(),r=new Date(t).getTime();if(isNaN(a)||isNaN(r))return"Inactive";const n=Math.abs(r-a);if(isNaN(n))return"Inactive";const o=n/36e5;return o>24||o>4?"Offline":"Online"},formattedNumber(t){return t.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3})}}},D=C,S=(a("97ab"),Object(k["a"])(D,d,c,!1,null,"590ee4a2",null)),T=S.exports,E=function(){var t,e,a,r,n,o,s,i,l,d,c,u,p,m,h,f,v,g,b=this,k=b._self._c;return k("div",{staticClass:"tank-modal",on:{click:b.handleClick}},[k("div",{staticClass:"fuel-card"},[k("div",{staticClass:"circle-container"},[k("TankLevelImage",{attrs:{volume:null===(t=b.modalContent)||void 0===t?void 0:t.vol,capacity:null===(e=b.modalContent)||void 0===e?void 0:e.capacity,percent:b.fillPercentage}})],1)]),k("div",{staticClass:"tank-modal-items"},[k("div",{staticClass:"fuel-info"},[k("div",{staticClass:"fuel-info-item fuel-info-item-first"},[k("p",[b._v("Tank Name: ")]),k("p",[b._v(b._s(null===(a=b.modalContent)||void 0===a?void 0:a.tank_name))])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Capacity: ")]),k("p",[b._v(b._s(b.formattedNumber(null===(r=b.modalContent)||void 0===r?void 0:r.capacity))+" Ltrs")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Volume: ")]),k("p",[b._v(b._s(b.formattedNumber(null===(n=b.modalContent)||void 0===n?void 0:n.vol))+" Ltrs")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("TCV: ")]),k("p",[b._v(b._s(b.formattedNumber(null===(o=b.modalContent)||void 0===o?void 0:o.tcv))+" Ltrs")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Height: ")]),k("p",[b._v(b._s(b.formattedNumber(null===(s=b.modalContent)||void 0===s?void 0:s.height))+" mm")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Product: ")]),k("p",[b._v(b._s(null===(i=b.modalContent)||void 0===i?void 0:i.product))])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Av. Temp: ")]),k("p",[b._v(b._s(null===(l=b.modalContent)||void 0===l?void 0:l.avg_temp)+" ℃")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Temp 1: ")]),k("p",[b._v(b._s(null===(d=b.modalContent)||void 0===d?void 0:d.temp_1)+" ℃")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Temp 2: ")]),k("p",[b._v(b._s(b.modalContent.temp_2)+" ℃")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Temp 3: ")]),k("p",[b._v(b._s(null===(c=b.modalContent)||void 0===c?void 0:c.temp_3)+" ℃")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Temp 4: ")]),k("p",[b._v(b._s(null===(u=b.modalContent)||void 0===u?void 0:u.temp_4)+" ℃")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Temp 5: ")]),k("p",[b._v(b._s(null===(p=b.modalContent)||void 0===p?void 0:p.temp_5)+" ℃")])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Last Updated Time: ")]),k("p",[b._v(b._s(null===(m=b.modalContent)||void 0===m?void 0:m.atg_time))])]),k("div",{staticClass:"fuel-info-item"},[k("p",[b._v("Temperature Status: ")]),k("p",{class:b.getHourDifference(null===(h=b.modalContent)||void 0===h?void 0:h.date_time)},[b._v(b._s(b.getHourDifference(null===(f=b.modalContent)||void 0===f?void 0:f.date_time)))])]),k("div",{staticClass:"fuel-info-item fuel-info-item-last"},[k("p",[b._v("ATG Status:")]),k("p",{class:b.getHourDifference(null===(v=b.modalContent)||void 0===v?void 0:v.atg_time)},[b._v(b._s(b.getHourDifference(null===(g=b.modalContent)||void 0===g?void 0:g.atg_time)))])])])])])},A=[],P={props:{modalContent:Object},components:{TankLevelImage:y},methods:{handleClick(){this.$emit("closeModal")},getHourDifference(t){const e=new Date,a=new Date(e).getTime(),r=new Date(t).getTime();if(isNaN(a)||isNaN(r))return"Inactive";const n=Math.abs(r-a);if(isNaN(n))return"Inactive";const o=n/36e5;return o>2?"Offline":"Online"},formattedNumber(t){return t.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3})}},computed:{fillPercentage(){var t,e,a,r;return this.modalContent&&void 0!==(null===(t=this.modalContent)||void 0===t?void 0:t.vol)&&void 0!==(null===(e=this.modalContent)||void 0===e?void 0:e.capacity)?((null===(a=this.modalContent)||void 0===a?void 0:a.vol)/(null===(r=this.modalContent)||void 0===r?void 0:r.capacity)*100).toFixed():0}}},M=P,w=(a("98fc"),Object(k["a"])(M,E,A,!1,null,"59b254d0",null)),x=w.exports,N={name:"DashboardPage",props:{tankData:Array},data(){return{modalContent:null}},methods:{showModal(t){this.modalContent=t},closeModal(){this.modalContent=null},closeModalOnOverlay(t){t.target.classList.contains("modal-bg")&&this.closeModal()}},components:{TankCard:T,TankCardModal:x},computed:{computeOverlay(){return this.modalContent?"modal-bg":""}}},O=N,I=(a("6bec"),Object(k["a"])(O,i,l,!1,null,null,null)),L=I.exports,F=(a("1f54"),a("2dd9"),function(){var t=this,e=t._self._c;return e("b-container",{attrs:{fluid:""}},[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{attrs:{md:"12"}},[e("b-card",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("b-form-group",{attrs:{id:"username-group",label:"Username:","label-for":"username",description:"Enter your username"}},[e("b-form-input",{attrs:{id:"username",required:"",placeholder:"Enter your username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),e("b-form-group",{attrs:{id:"password-group",label:"Password:","label-for":"password",description:"Enter your password"}},[e("b-form-input",{attrs:{id:"password",type:"password",required:"",placeholder:"Enter your password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("br"),e("b-button",{attrs:{type:"submit",variant:"outline-secondary"}},[t._v("Login")])],1),e("b-card-body",{staticStyle:{width:"100%"}})],1)],1)],1)],1)}),j=[],U={components:{},data(){return{username:"",password:""}},computed:{nameState(){return this.username.length>=2},nameInvalidFeedback(){return this.username.length>0?"Enter at least 4 characters.":"Please enter something."},passwordState(){return this.password.length>=4},passwordInvalidFeedback(){return this.password.length>0?"Enter at least 8 characters for the password.":"Please enter a password."}},methods:{alertError(t){this.$notify.error({title:"Login Error",message:t})},alertSuccess(t){this.$notify({title:"Success",message:t,type:"success"})},login(){if(this.nameState&&this.passwordState){const t={username:this.username,password:this.password};s["a"].post("http://localhost:8000/login",t).then(t=>{var e,a;this.alertSuccess("Login Success"),localStorage.setItem("token",null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.access_token),localStorage.setItem("user",JSON.stringify(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.user)),this.$emit('$bvModal.hide("login-modal")'),window.location.reload()}).catch(t=>{var e,a;this.alertError(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.detail)})}else this.alertError("You most provide your credentials before login")}}},V=U,R=Object(k["a"])(V,F,j,!1,null,"56527b46",null),q=R.exports,H=function(){var t=this,e=t._self._c;return e("div",[t.toggleEditProduct?e("EditProduct",{attrs:{editData:t.editData,Close:t.CloseEdit_product,refresh:t.fetchProducts}}):t._e(),t.toggleAddProduct?e("AddProduct",{attrs:{Close:t.CloseAdd_product,refresh:t.fetchProducts}}):t._e(),e("hr"),e("div",[e("div",{staticClass:"table-header"},[t._m(0),"Engineer"!==t.user_type?e("div",{staticClass:"table-add-tank",attrs:{disabled:"Engineer"!==t.user_type},on:{click:t.add_product}},[e("h1",[t._v("+")])]):t._e()]),t.products.length>0?e("b-table",{staticClass:"t-color",attrs:{striped:"",hover:"",items:t.products,fields:t.fields},scopedSlots:t._u([{key:"cell(action)",fn:function(a){return[e("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(e){return t.editProduct(a.item)}}},[t._v("Edit")]),"Engineer"!==t.user_type?e("b-button",{staticClass:"ms-2",attrs:{variant:"outline-danger"},on:{click:function(e){return t.deleteProduct(a.item)}}},[t._v("Delete")]):t._e()]}}],null,!1,3672679373)}):e("div",{staticClass:"no-rec"},[e("p",[t._v("No Record Found.")])])],1)],1)},B=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-title"},[e("h3",[t._v("List of Products")])])}],J=function(){var t=this,e=t._self._c;return e("b-form",{on:{submit:function(e){return e.preventDefault(),t.createProduct.apply(null,arguments)}}},[e("b-form-group",{attrs:{label:"Name:","label-for":"name"}},[e("b-form-input",{attrs:{id:"name",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.productData.Name,callback:function(e){t.$set(t.productData,"Name",e)},expression:"productData.Name"}})],1),e("b-form-group",{attrs:{label:"Code:","label-for":"code"}},[e("b-form-input",{attrs:{id:"code",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.productData.Code,callback:function(e){t.$set(t.productData,"Code",e)},expression:"productData.Code"}})],1),e("b-form-group",{attrs:{label:"Density:","label-for":"density"}},[e("b-form-input",{attrs:{id:"density",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.productData.density,callback:function(e){t.$set(t.productData,"density",e)},expression:"productData.density"}})],1),e("br"),e("b-button",{attrs:{type:"submit",variant:"outline-secondary",disabled:"Engineer"!==t.user_type}},[t._v("Create")]),e("b-button",{staticClass:"ms-3",attrs:{variant:"outline-success"},on:{click:t.Close}},[t._v("Cancel")])],1)},z=[],Q={props:["Close","refresh"],data(){return{productData:{Name:"",Code:"",density:"",Created_at:""},products:[]}},created(){this.productData.Created_at=(new Date).toISOString(),this.fetchProducts();const t=localStorage.getItem("user"),e=JSON.parse(t);this.user_type=e.user_type},methods:{alertError(t){this.$notify.error({title:"Login Error",message:t})},alertSuccess(t){this.$notify({title:"Success",message:t,type:"success"})},closeAddTank(){this.CloseAdd_Tank()},createProduct(){s["a"].post("http://localhost:8000/products/",this.productData).then(t=>{console.log("Product created successfully:",t),this.alertSuccess("Product created successfully"),this.Close(),this.refresh()}).catch(t=>{console.error("Error creating product:",t.response),this.alertError("Error creating product")})},fetchTanks(){s["a"].get("http://localhost:8000/tanks/").then(t=>{this.tanks=t.data}).catch(t=>{console.error("Error fetching tanks:",t.response)})},fetchProducts(){s["a"].get("http://localhost:8000/products/").then(t=>{this.products=t.data}).catch(t=>{console.error("Error fetching products:",t.response)})},editTank(t){console.log("Edit tank:",t)},deleteTank(t){console.log("Delete tank:",t)}}},Y=Q,W=(a("7f6d"),Object(k["a"])(Y,J,z,!1,null,"a20b434e",null)),G=W.exports,$=function(){var t=this,e=t._self._c;return e("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateProduct.apply(null,arguments)}}},[e("b-form-group",{attrs:{label:"Name:","label-for":"name"}},[e("b-form-input",{attrs:{id:"name",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.productData.Name,callback:function(e){t.$set(t.productData,"Name",e)},expression:"productData.Name"}})],1),e("b-form-group",{attrs:{label:"Code:","label-for":"code"}},[e("b-form-input",{attrs:{id:"code",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.productData.Code,callback:function(e){t.$set(t.productData,"Code",e)},expression:"productData.Code"}})],1),e("b-form-group",{attrs:{label:"Density:","label-for":"density"}},[e("b-form-input",{attrs:{id:"density",required:""},model:{value:t.productData.density,callback:function(e){t.$set(t.productData,"density",e)},expression:"productData.density"}})],1),e("br"),e("b-button",{attrs:{type:"submit",variant:"outline-secondary"}},[t._v("Update")]),e("b-button",{staticClass:"ms-3",attrs:{variant:"outline-success"},on:{click:t.Close}},[t._v("Cancel")])],1)},X=[],Z={props:["editData","Close","refresh"],data(){return{productData:{Name:"",Code:"",density:"",Updated_at:""},products:[],user_type:""}},created(){var t,e,a;this.productData.Updated_at=(new Date).toISOString();const r=localStorage.getItem("user"),n=JSON.parse(r);this.user_type=n.user_type,this.fetchProducts(),this.productData.Name=null===(t=this.editData)||void 0===t?void 0:t.Name,this.productData.Code=null===(e=this.editData)||void 0===e?void 0:e.Code,this.productData.density=null===(a=this.editData)||void 0===a?void 0:a.density},methods:{alertError(t){this.$notify.error({title:"Login Error",message:t})},alertSuccess(t){this.$notify({title:"Success",message:t,type:"success"})},closeAddTank(){this.CloseAdd_Tank()},updateProduct(){s["a"].put("http://localhost:8000/products/"+this.editData.id,this.productData).then(t=>{console.log("Product updated successfully:",t),this.alertSuccess("Product updated successfully"),this.refresh(),this.Close()}).catch(t=>{console.error("Error updating product:",t.response),this.alertError("Error updating product")})},fetchProducts(){s["a"].get("http://localhost:8000/products/").then(t=>{this.products=t.data}).catch(t=>{console.error("Error fetching products:",t.response)})},editTank(t){console.log("Edit tank:",t)},deleteTank(t){console.log("Delete tank:",t)}}},K=Z,tt=(a("9376"),Object(k["a"])(K,$,X,!1,null,"491e65f0",null)),et=tt.exports,at={components:{AddProduct:G,EditProduct:et},data(){return{productData:{Name:"",Code:"",density:"",Created_at:""},user_type:"",editData:"",products:[],toggleAddProduct:!1,toggleEditProduct:!1,fields:[{key:"Name",label:"Product Name"},{key:"Code",label:"Code"},{key:"density",label:"Density"},{key:"Created_at",label:"Date Created"},{key:"action",label:"Action"}],coptions:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}}},created(){this.productData.Created_at=(new Date).toISOString();const t=localStorage.getItem("user"),e=JSON.parse(t);this.user_type=e.user_type,this.fetchProducts()},methods:{formattedDateTime(t){return t.toLocaleString("en-US",this.options).replace(/(\d+)\/(\d+)\/(\d+),?/,"$3-$1-$2")},alertError(t){this.$notify.error({title:"Login Error",message:t})},alertSuccess(t){this.$notify({title:"Success",message:t,type:"success"})},add_product(){return this.toggleAddProduct=!this.toggleAddProduct},edit_product(){this.toggleEditProduct||(this.toggleEditProduct=!0)},CloseAdd_product(){this.toggleAddProduct=!1},CloseEdit_product(){this.toggleEditProduct=!1},formatCreatedAt(t){return t.forEach(t=>{t.Created_at=new Date(null===t||void 0===t?void 0:t.Created_at).toLocaleString("en-US",{timeZone:"UTC"})})},fetchProducts(){s["a"].get("http://localhost:8000/products/").then(t=>{this.products=t.data,this.formatCreatedAt(this.products)}).catch(t=>{console.error("Error fetching products:",t.response)})},editProduct(t){this.edit_product(),this.editData=t},deleteProduct(t){console.log("Delete tank:",t),s["a"].delete("http://localhost:8000/products/"+t.id).then(t=>{console.log("Deleted product:",t.data),this.alertSuccess("Product deleted successfully"),this.fetchProducts()}).catch(t=>{console.error("Error deleting tanks:",t.response),this.alertError("Error deleting product")})}}},rt=at,nt=(a("1bce"),Object(k["a"])(rt,H,B,!1,null,"9b774d70",null)),ot=nt.exports,st=function(){var t=this,e=t._self._c;return e("div",[t.toggleAddTank?e("AddTank",{attrs:{Close:t.CloseAdd_Tank,refresh:t.fetchTanks}}):t._e(),t.toggleEditTank?e("EditTank",{attrs:{editData:t.editData,Close:t.CloseEdit_Tank,refresh:t.fetchTanks}}):t._e(),e("hr"),e("div",{staticClass:"table-header"},[t._m(0),"Engineer"!==t.user_type?e("div",{staticClass:"table-add-tank",attrs:{disabled:"Engineer"!==t.user_type},on:{click:t.add_Tank}},[e("h1",[t._v("+")])]):t._e()]),t.tanks.length>0?e("b-table",{staticClass:"t-color",attrs:{striped:"",hover:"",items:t.tanks,fields:t.fields},scopedSlots:t._u([{key:"cell(action)",fn:function(a){return["Engineer"!==t.user_type?e("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(e){return t.editTank(a.item)}}},[t._v("Edit")]):t._e(),"Engineer"!==t.user_type?e("b-button",{staticClass:"ms-2",attrs:{variant:"outline-danger"},on:{click:function(e){return t.deleteTank(a.item)}}},[t._v("Delete")]):t._e()]}}],null,!1,480703516)}):e("div",{staticClass:"no-rec"},[e("p",[t._v("No Record Found.")])])],1)},it=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-title"},[e("h3",[t._v("List of Tanks")])])}],lt=function(){var t=this,e=t._self._c;return e("div",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.createTank.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Name:","label-for":"tankName"}},[e("b-form-input",{attrs:{id:"tankName",placeholder:"Enter Tank Name",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.tankData.Name,callback:function(e){t.$set(t.tankData,"Name",e)},expression:"tankData.Name"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Product:","label-for":"tankProduct"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedProductId,expression:"selectedProductId"}],staticClass:"custom-select",attrs:{placeholder:"Select Product",disabled:"Engineer"!==t.user_type},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedProductId=e.target.multiple?a:a[0]}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Select Product")]),t._l(t.products,(function(a){return e("option",{key:a.id,domProps:{value:a}},[t._v(t._s(a.Name))])}))],2)])],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Controller Polling Address:","label-for":"Controller_polling_address"}},[e("b-form-input",{attrs:{id:"Controller_polling_address",placeholder:"Enter Tank Polling Address",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.tankData.Controller_polling_address,callback:function(e){t.$set(t.tankData,"Controller_polling_address",e)},expression:"tankData.Controller_polling_address"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Tank Index:","label-for":"Tank_index"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tankData.Tank_index,expression:"tankData.Tank_index"}],staticClass:"custom-select",attrs:{placeholder:"Select Tank Index",disabled:"Engineer"!==t.user_type},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.tankData,"Tank_index",e.target.multiple?a:a[0])}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Select Tank Index")]),e("option",[t._v("1")]),e("option",[t._v("2")]),e("option",[t._v("3")]),e("option",[t._v("4")])])])],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Capacity:","label-for":"Capacity"}},[e("b-form-input",{attrs:{id:"Capacity",placeholder:"Enter Tank Capacity",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.tankData.Capacity,callback:function(e){t.$set(t.tankData,"Capacity",e)},expression:"tankData.Capacity"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Tank height:","label-for":"Tank_height"}},[e("b-form-input",{attrs:{id:"Tank_height",disable:"Engineer"!==t.user_type,required:""},model:{value:t.tankData.Tank_height,callback:function(e){t.$set(t.tankData,"Tank_height",e)},expression:"tankData.Tank_height"}})],1)],1)],1),e("br"),e("b-button",{attrs:{type:"submit",variant:"outline-secondary"}},[t._v("Create")]),e("b-button",{staticClass:"ms-3",attrs:{variant:"outline-success"},on:{click:t.Close}},[t._v("Cancel")])],1)],1)},dt=[],ct={props:["Close","refresh"],data(){return{tankData:{Name:"",product:"",Controller_polling_address:"",Tank_index:"",Capacity:"",Status:!0,Po4:"",Display_unit:"",Tank_height:""},tanks:[],products:[],selectedProductId:null,selectedShape:null,selectedUOM:null,selectedDUOM:null,user_type:"",measures:[{name:"Liters",abbreviation:"L",id:1},{name:"Tonnes",abbreviation:"T",id:2},{name:"Kilogrammes",abbreviation:"kg",id:3},{name:"Metres",abbreviation:"m",id:4},{name:"Millimeters",abbreviation:"mm",id:5},{name:"Centimeters",abbreviation:"cm",id:6},{name:"Cubic Meters",abbreviation:"m³",id:7},{name:"Gallons",abbreviation:"gal",id:8}],shapes:[{name:"Lying Cylindrical",id:1},{name:"Standing Cylindrical",id:2},{name:"Lying Rectangular",id:3},{name:"Standing Rectangular",id:4},{name:"Standing Round View",id:5}]}},created(){const t=localStorage.getItem("user"),e=JSON.parse(t);this.user_type=e.user_type,this.fetchProducts()},methods:{alertError(t){this.$notify.error({title:"Login Error",message:t})},alertSuccess(t){this.$notify({title:"Success",message:t,type:"success"})},closeAddTank(){this.Close()},createTank(){this.tankData["product"]=this.selectedProductId.id,this.tankData["Density"]=this.selectedProductId.density,this.tankData.Created_at=(new Date).toISOString(),s["a"].post("http://localhost:8000/tanks/",this.tankData).then(t=>{console.log(t),this.alertSuccess("Tank created successfully"),this.refresh(),this.Close()}).catch(t=>{this.alertError("Error creating tank:",t.response)})},fetchTanks(){s["a"].get("http://localhost:8000/tanks/").then(t=>{this.tanks=t.data}).catch(t=>{console.error("Error fetching tanks:",t.response)})},fetchProducts(){s["a"].get("http://localhost:8000/products/").then(t=>{this.products=t.data}).catch(t=>{console.error("Error fetching products:",t.response)})},editTank(t){console.log("Edit tank:",t)},deleteTank(t){console.log("Delete tank:",t)}}},ut=ct,pt=(a("a749"),Object(k["a"])(ut,lt,dt,!1,null,"4737dbfe",null)),mt=pt.exports,ht=function(){var t=this,e=t._self._c;return e("div",[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateTank.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Name:","label-for":"tankName"}},[e("b-form-input",{attrs:{id:"tankName",placeholder:"Enter Tank Name",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.tankData.Name,callback:function(e){t.$set(t.tankData,"Name",e)},expression:"tankData.Name"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Product:","label-for":"tankProduct"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedProductId,expression:"selectedProductId"}],staticClass:"custom-select",attrs:{placeholder:"Select Product",disabled:"Engineer"!==t.user_type},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedProductId=e.target.multiple?a:a[0]}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Select Product")]),t._l(t.products,(function(a){return e("option",{key:a.id,domProps:{value:a}},[t._v(t._s(a.Name))])}))],2)])],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Controller Polling Address:","label-for":"Controller_polling_address"}},[e("b-form-input",{attrs:{id:"Controller_polling_address",placeholder:"Enter Tank Polling Address",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.tankData.Controller_polling_address,callback:function(e){t.$set(t.tankData,"Controller_polling_address",e)},expression:"tankData.Controller_polling_address"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Tank Index:","label-for":"Tank_index"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tankData.Tank_index,expression:"tankData.Tank_index"}],staticClass:"custom-select",attrs:{placeholder:"Select Tank Index",disabled:"Engineer"!==t.user_type},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.tankData,"Tank_index",e.target.multiple?a:a[0])}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Select Tank Index")]),e("option",[t._v("1")]),e("option",[t._v("2")]),e("option",[t._v("3")]),e("option",[t._v("4")])])])],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Capacity:","label-for":"Capacity"}},[e("b-form-input",{attrs:{id:"Capacity",placeholder:"Enter Tank Capacity",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.tankData.Capacity,callback:function(e){t.$set(t.tankData,"Capacity",e)},expression:"tankData.Capacity"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Tank height:","label-for":"Tank_height"}},[e("b-form-input",{attrs:{id:"Tank_height",disabled:"Engineer"!==t.user_type,required:""},model:{value:t.tankData.Tank_height,callback:function(e){t.$set(t.tankData,"Tank_height",e)},expression:"tankData.Tank_height"}})],1)],1)],1),e("br"),e("b-col",{attrs:{md:"6"}},[e("b-button",{attrs:{type:"submit",variant:"outline-secondary"}},[t._v("Update")]),e("b-button",{staticClass:"ms-3",attrs:{variant:"outline-success"},on:{click:t.Close}},[t._v("Cancel")])],1)],1)],1)},ft=[],vt={props:["editData","Close","refresh"],data(){return{tankData:{Name:"",product:"",Controller_polling_address:"",Tank_index:"",Capacity:"",Status:!1,Tank_height:""},tanks:[],products:[],selectedProductId:null,selectedShape:null,selectedUOM:null,selectedDUOM:null,measures:[{name:"Liters",abbreviation:"L",id:1},{name:"Tonnes",abbreviation:"T",id:2},{name:"Kilogrammes",abbreviation:"kg",id:3},{name:"Metres",abbreviation:"m",id:4},{name:"Millimeters",abbreviation:"mm",id:5},{name:"Centimeters",abbreviation:"cm",id:6},{name:"Cubic Meters",abbreviation:"m³",id:7},{name:"Gallons",abbreviation:"gal",id:8}],shapes:[{name:"Lying Cylindrical",id:1},{name:"Standing Cylindrical",id:2},{name:"Lying Rectangular",id:3},{name:"Standing Rectangular",id:4},{name:"Standing Round View",id:5}]}},created(){var t,e,a,r,n,o,s,i,l;this.tankData.Created_at=(new Date).toISOString();const d=localStorage.getItem("user"),c=JSON.parse(d);this.user_type=c.user_type,this.fetchProducts(),this.selectedProductId=null===(t=this.editData)||void 0===t||null===(e=t.Product_id)||void 0===e?void 0:e.Name,this.tankData.Name=null===(a=this.editData)||void 0===a?void 0:a.Name,this.tankData.product=null===(r=this.editData)||void 0===r?void 0:r.Product_id,this.tankData.Controller_polling_address=null===(n=this.editData)||void 0===n?void 0:n.Controller_polling_address,this.tankData.Tank_index=null===(o=this.editData)||void 0===o?void 0:o.Tank_index,this.tankData.Capacity=null===(s=this.editData)||void 0===s?void 0:s.Capacity,this.tankData.Status=null===(i=this.editData)||void 0===i?void 0:i.Status,this.tankData.Tank_height=null===(l=this.editData)||void 0===l?void 0:l.Tank_height},methods:{alertError(t){this.$notify.error({title:"Login Error",message:t})},alertSuccess(t){this.$notify({title:"Success",message:t,type:"success"})},closeEditTank(){this.Close()},updateTank(){this.tankData["Product"]=this.selectedProductId.id,this.tankData["Density"]=this.selectedProductId.density,s["a"].put("http://localhost:8000/tanks/"+this.editData.Tank_id,this.tankData).then(t=>{console.log("Tank updated successfully:",t),this.alertSuccess("Tank updated successfully"),this.refresh(),this.Close()}).catch(t=>{console.error("Error creating tank:",t.response),this.alertError("Error updating tank")})},fetchTanks(){s["a"].get("http://localhost:8000/tanks/").then(t=>{this.tanks=t.data}).catch(t=>{console.error("Error fetching tanks:",t.response)})},fetchProducts(){s["a"].get("http://localhost:8000/products/").then(t=>{this.products=t.data}).catch(t=>{console.error("Error fetching products:",t.response)})}}},gt=vt,bt=(a("00f8"),Object(k["a"])(gt,ht,ft,!1,null,"519e351e",null)),kt=bt.exports,_t={components:{AddTank:mt,EditTank:kt},data(){return{tankData:{id:"",Name:"",product:"",Control_mode:"",Tank_controller:"",Controller_polling_address:"",Tank_index:"",Capacity:"",UOM:"",Shape:"",LL_Level:"",L_Level:"",HH_Level:"",H_Level:"",Reorder:"",Leak:"",Status:!1,Offset:"",Po4:"",Display_unit:"",Density:"",Tank_height:"",Anomaly_period:"",Anomaly_volume:"",Tank_Note:""},toggleAddTank:!1,toggleEditTank:!1,tanks:[],products:[],editData:"",user_type:"",fields:[{key:"Name",label:"Tank Name"},{key:"Product_id.Code",label:"Product"},{key:"Created_at",label:"Date Created"},{key:"action",label:"Action"}]}},created(){this.tankData.Created_at=(new Date).toISOString();const t=localStorage.getItem("user"),e=JSON.parse(t);this.user_type=e.user_type,this.fetchTanks(),this.fetchProducts()},methods:{alertError(t){this.$notify.error({title:"Login Error",message:t})},alertSuccess(t){this.$notify({title:"Success",message:t,type:"success"})},add_Tank(){return this.toggleAddTank=!this.toggleAddTank},edit_Tank(){this.toggleEditTank||(this.toggleEditTank=!0)},CloseAdd_Tank(){this.toggleAddTank=!1},CloseEdit_Tank(){this.toggleEditTank=!1},formatCreatedAt(t){return t.forEach(t=>{t.Created_at=new Date(null===t||void 0===t?void 0:t.Created_at).toLocaleString("en-US",{timeZone:"UTC"})})},createTank(){s["a"].post("http://localhost:8000/tanks/",this.tankData).then(t=>{console.log("Tank created successfully:",t),this.fetchTanks()}).catch(t=>{console.error("Error creating tank:",t.response)})},fetchTanks(){s["a"].get("http://localhost:8000/tanks/").then(t=>{this.tanks=t.data,this.formatCreatedAt(this.tanks)}).catch(t=>{console.error("Error fetching tanks:",t.response)})},fetchProducts(){s["a"].get("http://localhost:8000/products/").then(t=>{this.products=t.data}).catch(t=>{console.error("Error fetching products:",t.response)})},editTank(t){this.edit_Tank(),this.editData=t},deleteTank(t){console.log("Delete tank:",t),s["a"].delete("http://localhost:8000/tanks/"+t.Tank_id).then(t=>{console.log("Deleted tank:",t.data),this.alertSuccess("Tank deleted successfully"),this.fetchTanks()}).catch(t=>{console.error("Error deleting tanks:",t.response),this.alertError("Error deleting tank")})}}},yt=_t,Ct=(a("9488"),Object(k["a"])(yt,st,it,!1,null,"4aca21ae",null)),Dt=Ct.exports,St=function(){var t=this,e=t._self._c;return e("b-form",{on:{submit:function(e){return e.preventDefault(),t.uploadFile.apply(null,arguments)}}},["Engineer"!==t.user_type?e("div",{staticClass:"wrap-upload"},[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",size:"sm",action:"http://localhost:8000/upload","on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-success":t.handleOnSuccess,"on-error":t.handleOnError,"auto-upload":!1,limit:1,"file-list":t.fileList,"before-upload":t.beforeUpload}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("Drop TCV chart file here or "),e("em",[t._v("click to upload")])])]),e("br"),e("el-button",{attrs:{size:"large",type:"success"},on:{click:t.uploadFile}},[t._v("Upload Chart")])],1):t._e()])},Tt=[],Et={data(){return{fileList:[],fileData:{Name:"",Created_at:""},products:[]}},created(){this.tankData.Created_at=(new Date).toISOString();const t=localStorage.getItem("user"),e=JSON.parse(t);this.user_type=e.user_type},methods:{closeModal(){this.Close()},uploadFile(){this.$refs.upload.submit()},handleRemove(t,e){console.log(t,e)},handlePreview(t){console.log(t)},handleOnSuccess(t){this.alertSuccess(t.filename+" uploaded successfully"),window.location.reload()},handleOnError(t){console.log(t),this.alertError("Error uploading the chart")},beforeUpload(t){const e=t.name.toLowerCase().endsWith(".csv");return e||this.alertError("Only CSV files are allowed!"),e},alertError(t){this.$notify.error({title:"An Error Occured",message:t})},alertSuccess(t){this.$notify({title:"Success",message:t,type:"success"})}}},At=Et,Pt=(a("0941"),Object(k["a"])(At,St,Tt,!1,null,"4f2dd7c1",null)),Mt=Pt.exports,wt={name:"App",components:{home:L,LoginUser:q,ProductList:ot,TankList:Dt,UploadTcvChart:Mt},data(){return{selectedProduct:"",tankData:[],filterItem:"",logo:a("68fe"),footerLogo:a("44f7"),spinner:a("626a"),products:[{Name:"All",Code:"All"}]}},created(){const t=localStorage.getItem("user"),e=JSON.parse(t);this.user_type=e.user_type,setInterval(this.fetchData,9e3),this.fetchProducts()},methods:{hideModal(){return this.$bvModal.$refs["tcv-chart"].hide()},fetchData(){s["a"].get("http://localhost:8000/tank-logs-temp/").then(t=>{this.tankData=t.data}).catch(t=>{console.error("API error:",t)})},filterData(t){if(""===t||"All"===t)return this.tankData;const e=this.tankData.filter(e=>e.product===t);return e},all(){this.filterItem=""},pms(){this.filterItem="PMS"},ago(){this.filterItem="AGO"},baseOil(){this.filterItem="BASE OIL"},jetA(){this.filterItem="JET A1"},logout(){localStorage.clear(),window.location.reload()},fetchProducts(){s["a"].get("http://localhost:8000/products/").then(t=>{this.products.push(...t.data)}).catch(t=>{console.error("Error fetching products:",t.response)})},filterByProduct(){this.filterItem=this.selectedProduct}},computed:{productOptions(){return this.products.map(t=>({text:t.Name,value:t.Code}))},filterTankData(){const t=this.filterData(this.filterItem);return t.sort((t,e)=>t.product===e.product?t.tank_id-e.tank_id:t.product.localeCompare(e.product))},checkToken(){return localStorage.getItem("token")}}},xt=wt,Nt=(a("0576"),Object(k["a"])(xt,n,o,!1,null,null,null)),Ot=Nt.exports,It=a("5f5b"),Lt=a("b1e0"),Ft=a("5c96"),jt=a.n(Ft);a("0fae"),a("f9e3"),a("2dd8");r["default"].use(It["a"]),r["default"].use(Lt["a"]),r["default"].use(jt.a),new r["default"]({render:t=>t(Ot)}).$mount("#app")},"626a":function(t,e,a){t.exports=a.p+"img/Smartflow-rotating-logo.41c9a20a.gif"},"68fe":function(t,e){t.exports="data:image/png;base64,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"},"6bec":function(t,e,a){"use strict";a("bb0b")},"7f6d":function(t,e,a){"use strict";a("5351")},"84c9":function(t,e,a){},9376:function(t,e,a){"use strict";a("045b")},9488:function(t,e,a){"use strict";a("1629")},"97ab":function(t,e,a){"use strict";a("84c9")},"98fc":function(t,e,a){"use strict";a("d541")},a749:function(t,e,a){"use strict";a("17b5")},b4a7:function(t,e,a){},b800:function(t,e,a){"use strict";a("010e")},bb0b:function(t,e,a){},d541:function(t,e,a){},fbf2:function(t,e,a){}});
//# sourceMappingURL=app.02cd2f4f.js.map